 //üí´ Loading Spinner Handler
function setupLoadingSpinner() {
    const form = document.querySelector('form');
    const submitButton = document.getElementById('submitButton');
    const loadingOverlay = document.getElementById('loadingOverlay');
    
    if (!form || !submitButton || !loadingOverlay) return;
    
    form.addEventListener('submit', function(e) {
        // Validate auction fields if auction type is selected
        const listingType = document.querySelector('input[name="listing_type"]:checked');
        
        if (listingType && listingType.value === 'auction') {
            const startPrice = document.querySelector('input[name="start_price"]');
            const auctionEndDate = document.querySelector('input[name="auction_end_date"]');
            const paymentReceipt = document.querySelector('input[name="payment_receipt"]');
            
            let missingFields = [];
            
            if (!startPrice || !startPrice.value) {
                missingFields.push('–ù–∞—á–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞');
            }
            if (!auctionEndDate || !auctionEndDate.value) {
                missingFields.push('–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è');
            }
            if (!paymentReceipt || !paymentReceipt.files || paymentReceipt.files.length === 0) {
                missingFields.push('–ß–µ–∫ –æ–ø–ª–∞—Ç—ã');
            }
            
            if (missingFields.length > 0) {
                e.preventDefault();
                alert('‚ùå –î–ª—è –∞—É–∫—Ü–∏–æ–Ω–∞ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ:\n\n‚Ä¢ ' + missingFields.join('\n‚Ä¢ '));
                return;
            }
        }
        
        // Show loading overlay
        loadingOverlay.classList.remove('hidden');
        
        // Disable submit button
        submitButton.disabled = true;
        submitButton.textContent = '‚öôÔ∏è –û—Ç–ø—Ä–∞–≤–∫–∞...';
    });
}
