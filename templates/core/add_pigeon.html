{% extends 'base.html' %}

{% block title %}{% if pigeon %}–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å{% else %}–î–æ–±–∞–≤–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ{% endif %} - –ì–æ–ª—É–±–ë–æ–∑–æ—Ä{% endblock %}

{% block content %}
<div class="max-w-3xl mx-auto">
    <h1 class="text-3xl md:text-4xl font-bold gold-text mb-8">
        {% if pigeon %}
        –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ
        {% else %}
        –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ
        {% endif %}
    </h1>
    
    <div class="bg-[#1E1E1E] rounded-lg p-6 md:p-8 border border-gray-800">
        <form method="post" enctype="multipart/form-data" class="space-y-6">
            {% csrf_token %}
            
            <!-- Title -->
            <div>
                <label for="{{ form.title.id_for_label }}" class="block text-sm font-semibold text-[#D4AF37] mb-2">
                    –ù–∞–∑–≤–∞–Ω–∏–µ *
                </label>
                {{ form.title }}
                {% if form.title.errors %}
                    <p class="text-red-500 text-sm mt-1">{{ form.title.errors.0 }}</p>
                {% endif %}
            </div>
            
            <!-- Breed, Game Type, Sex - Grid -->
            <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                <!-- Breed -->
                <div>
                    <label for="{{ form.breed.id_for_label }}" class="block text-sm font-semibold text-[#D4AF37] mb-2">
                        –ü–æ—Ä–æ–¥–∞ *
                    </label>
                    {{ form.breed }}
                    {% if form.breed.errors %}
                        <p class="text-red-500 text-sm mt-1">{{ form.breed.errors.0 }}</p>
                    {% endif %}
                </div>
                
                <!-- Game Type -->
                <div>
                    <label for="{{ form.game_type.id_for_label }}" class="block text-sm font-semibold text-[#D4AF37] mb-2">
                        –¢–∏–ø *
                    </label>
                    {{ form.game_type }}
                    {% if form.game_type.errors %}
                        <p class="text-red-500 text-sm mt-1">{{ form.game_type.errors.0 }}</p>
                    {% endif %}
                </div>
                
                <!-- Sex -->
                <div>
                    <label for="{{ form.sex.id_for_label }}" class="block text-sm font-semibold text-[#D4AF37] mb-2">
                        –ü–æ–ª *
                    </label>
                    {{ form.sex }}
                    {% if form.sex.errors %}
                        <p class="text-red-500 text-sm mt-1">{{ form.sex.errors.0 }}</p>
                    {% endif %}
                </div>
                
                <!-- City -->
                <div>
                    <label for="{{ form.city.id_for_label }}" class="block text-sm font-semibold text-[#D4AF37] mb-2">
                        üèôÔ∏è –ì–æ—Ä–æ–¥ *
                    </label>
                    {{ form.city }}
                    {% if form.city.errors %}
                        <p class="text-red-500 text-sm mt-1">{{ form.city.errors.0 }}</p>
                    {% endif %}
                </div>
            </div>
            
            <!-- Price -->
            <div>
                <label for="{{ form.price.id_for_label }}" class="block text-sm font-semibold text-[#D4AF37] mb-2">
                    –¶–µ–Ω–∞ (TJS) *
                </label>
                {{ form.price }}
                {% if form.price.errors %}
                    <p class="text-red-500 text-sm mt-1">{{ form.price.errors.0 }}</p>
                {% endif %}
            </div>
            
            <!-- Description -->
            <div>
                <label for="{{ form.description.id_for_label }}" class="block text-sm font-semibold text-[#D4AF37] mb-2">
                    –û–ø–∏—Å–∞–Ω–∏–µ *
                </label>
                {{ form.description }}
                {% if form.description.errors %}
                    <p class="text-red-500 text-sm mt-1">{{ form.description.errors.0 }}</p>
                {% endif %}
            </div>
            
            <!-- Image -->
            <div>
                <label for="{{ form.image.id_for_label }}" class="block text-sm font-semibold text-[#D4AF37] mb-2">
                    –§–æ—Ç–æ *
                </label>
                {% if pigeon and pigeon.image %}
                    <div class="mb-3">
                        <img src="{{ pigeon.image.url }}" alt="Current" class="w-32 h-32 object-cover rounded border-2 border-gray-700">
                        <p class="text-sm text-gray-400 mt-1">–¢–µ–∫—É—â–µ–µ —Ñ–æ—Ç–æ</p>
                    </div>
                {% endif %}
                {{ form.image }}
                {% if form.image.errors %}
                    <p class="text-red-500 text-sm mt-1">{{ form.image.errors.0 }}</p>
                {% endif %}
            </div>
            
            <!-- Contact Information Section -->
            <div class="border-t border-gray-700 pt-6 mt-6">
                <h3 class="text-xl font-bold text-[#D4AF37] mb-4">üìû –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
                
                <div class="space-y-4">
                    <!-- Phone -->
                    <div>
                        <label for="{{ form.phone.id_for_label }}" class="block text-sm font-semibold text-gray-300 mb-2">
                            –¢–µ–ª–µ—Ñ–æ–Ω *
                        </label>
                        {{ form.phone }}
                        {% if form.phone.errors %}
                            <p class="text-red-500 text-sm mt-1">{{ form.phone.errors.0 }}</p>
                        {% endif %}
                        <p class="text-xs text-gray-500 mt-1">–§–æ—Ä–º–∞—Ç: +992XXXXXXXXX</p>
                    </div>
                    
                    <!-- WhatsApp -->
                    <div>
                        <label for="{{ form.whatsapp_number.id_for_label }}" class="block text-sm font-semibold text-gray-300 mb-2">
                            WhatsApp (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
                        </label>
                        {{ form.whatsapp_number }}
                        {% if form.whatsapp_number.errors %}
                            <p class="text-red-500 text-sm mt-1">{{ form.whatsapp_number.errors.0 }}</p>
                        {% endif %}
                        <p class="text-xs text-gray-500 mt-1">–ù–æ–º–µ—Ä WhatsApp (—Ñ–æ—Ä–º–∞—Ç: +992XXXXXXXXX)</p>
                    </div>
                    
                    <!-- Telegram -->
                    <div>
                        <label for="{{ form.telegram_username.id_for_label }}" class="block text-sm font-semibold text-gray-300 mb-2">
                            Telegram (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
                        </label>
                        {{ form.telegram_username }}
                        {% if form.telegram_username.errors %}
                            <p class="text-red-500 text-sm mt-1">{{ form.telegram_username.errors.0 }}</p>
                        {% endif %}
                        <p class="text-xs text-gray-500 mt-1">–í–∞—à Telegram username –±–µ–∑ @ (–Ω–∞–ø—Ä–∏–º–µ—Ä: username)</p>
                    </div>
                </div>
            </div>
            
            <!-- Video URL -->
            <div>
                <label for="{{ form.video_url.id_for_label }}" class="block text-sm font-semibold text-[#D4AF37] mb-2">
                    üé• –í–∏–¥–µ–æ YouTube (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
                </label>
                {{ form.video_url }}
                {% if form.video_url.errors %}
                    <p class="text-red-500 text-sm mt-1">{{ form.video_url.errors.0 }}</p>
                {% endif %}
                <p class="text-xs text-gray-500 mt-1">
                    –í—Å—Ç–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ YouTube –≤–∏–¥–µ–æ
                </p>
            </div>
            
            <!-- VIP -->
            <div class="flex items-start space-x-3 p-4 bg-[#121212] rounded-lg">
                {{ form.is_vip }}
                <label for="{{ form.is_vip.id_for_label }}" class="text-sm text-gray-300 cursor-pointer">
                    <span class="font-semibold text-[#D4AF37] text-base">‚≠ê VIP —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ</span>
                    <span class="block text-xs text-gray-500 mt-1">–í–∞—à–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –±—É–¥–µ—Ç –≤—ã–¥–µ–ª–µ–Ω–æ –∑–æ–ª–æ—Ç–æ–π —Ä–∞–º–∫–æ–π –∏ –ø–æ–∫–∞–∑–∞–Ω–æ –ø–µ—Ä–≤—ã–º</span>
                    <a href="{% url 'vip_request' %}" class="text-[#D4AF37] hover:underline text-xs mt-1 inline-block">–ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ VIP ‚Üí</a>
                </label>
            </div>
            
            <!-- Non-field errors -->
            {% if form.non_field_errors %}
                <div class="p-4 bg-red-900 border border-red-700 rounded-lg">
                    {{ form.non_field_errors }}
                </div>
            {% endif %}
            
            <!-- Moderation Notice -->
            <div class="bg-blue-900/20 border border-blue-700/50 rounded-lg p-4">
                <div class="flex items-start">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-blue-400 mr-3 mt-0.5 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    <div>
                        <p class="text-sm text-blue-300 font-semibold mb-1">‚ÑπÔ∏è –ú–æ–¥–µ—Ä–∞—Ü–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏–π</p>
                        <p class="text-xs text-gray-400">
                            {% if pigeon %}
                            –ü–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–∞ –ø–æ–≤—Ç–æ—Ä–Ω—É—é –º–æ–¥–µ—Ä–∞—Ü–∏—é.
                            {% else %}
                            –í–∞—à–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–æ—è–≤–∏—Ç—Å—è –Ω–∞ —Å–∞–π—Ç–µ –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–æ–º (–æ–±—ã—á–Ω–æ –≤ —Ç–µ—á–µ–Ω–∏–µ 24 —á–∞—Å–æ–≤).
                            {% endif %}
                        </p>
                    </div>
                </div>
            </div>
            
            <!-- Buttons -->
            <div class="flex flex-col sm:flex-row gap-3 pt-4">
                <button type="submit" class="flex-1 px-6 py-3 bg-[#D4AF37] text-black font-bold rounded-lg hover:bg-[#C5A028] transition">
                    {% if pigeon %}üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è{% else %}üì§ –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å{% endif %}
                </button>
                <a href="{% if pigeon %}{% url 'pigeon_detail' pigeon.pk %}{% else %}{% url 'home' %}{% endif %}" class="flex-1 text-center px-6 py-3 border-2 border-gray-700 text-gray-300 font-semibold rounded-lg hover:border-gray-600 transition">
                    –û—Ç–º–µ–Ω–∞
                </a>
            </div>
        </form>
    </div>
</div>
{% endblock %}
