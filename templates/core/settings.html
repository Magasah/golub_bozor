{% extends 'base.html' %}

{% block title %}–ù–∞—Å—Ç—Ä–æ–π–∫–∏ - –ì–æ–ª—É–±–ë–æ–∑–æ—Ä{% endblock %}

{% block content %}
<div class="max-w-3xl mx-auto">
    <h1 class="text-4xl font-bold gold-text mb-8">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è</h1>
    
    <!-- Telegram Notifications Section -->
    <div class="bg-[#1E1E1E] rounded-lg p-6 md:p-8 border-2 border-[#D4AF37] mb-6">
        <div class="flex items-start mb-6">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-[#D4AF37] mr-4 flex-shrink-0" fill="currentColor" viewBox="0 0 24 24">
                <path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm5.562 8.161l-1.84 8.679c-.137.65-.504.812-1.019.506l-2.821-2.079-1.362 1.311c-.151.151-.277.277-.569.277l.203-2.888 5.259-4.75c.228-.203-.05-.316-.354-.114l-6.504 4.098-2.802-.876c-.609-.19-.621-.609.128-.902l10.946-4.22c.508-.19.953.114.787.902z"/>
            </svg>
            <div>
                <h2 class="text-2xl font-bold text-[#D4AF37] mb-2">üì¨ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram</h2>
                <p class="text-gray-300 mb-2">
                    –ü–æ–ª—É—á–∞–π—Ç–µ –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –≤–æ–ø—Ä–æ—Å–∞—Ö –∏ —Å—Ç–∞–≤–∫–∞—Ö –Ω–∞ –≤–∞—à–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏—è.
                </p>
                <p class="text-sm text-gray-400">
                    –ü–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤—ã –±—É–¥–µ—Ç–µ –ø–æ–ª—É—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ:
                </p>
                <ul class="list-disc list-inside text-sm text-gray-400 mt-2 space-y-1">
                    <li>üí¨ –ù–æ–≤—ã—Ö –≤–æ–ø—Ä–æ—Å–∞—Ö –∫ –≤–∞—à–∏–º –æ–±—ä—è–≤–ª–µ–Ω–∏—è–º</li>
                    <li>üí∞ –ù–æ–≤—ã—Ö —Å—Ç–∞–≤–∫–∞—Ö –Ω–∞ –≤–∞—à–∏—Ö –∞—É–∫—Ü–∏–æ–Ω–∞—Ö</li>
                    <li>‚ö†Ô∏è –ö–æ–≥–¥–∞ –≤–∞—Å –ø–µ—Ä–µ–±–∏–≤–∞—é—Ç –Ω–∞ –∞—É–∫—Ü–∏–æ–Ω–∞—Ö</li>
                </ul>
            </div>
        </div>
        
        <form method="post" class="space-y-6">
            {% csrf_token %}
            
            <div>
                <label for="telegram_chat_id" class="block text-sm font-semibold text-[#D4AF37] mb-2">
                    Telegram Chat ID
                </label>
                <input 
                    type="text" 
                    id="telegram_chat_id" 
                    name="telegram_chat_id" 
                    value="{{ profile.telegram_chat_id|default:'' }}"
                    class="w-full px-4 py-3 bg-[#121212] border border-gray-700 rounded-lg text-gray-200 focus:border-[#D4AF37] focus:outline-none"
                    placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 123456789"
                >
                <p class="text-xs text-gray-500 mt-2">
                    –í–≤–µ–¥–∏—Ç–µ –≤–∞—à Telegram Chat ID –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
                </p>
            </div>
            
            <!-- Instructions Card -->
            <div class="bg-blue-900/20 border border-blue-700/50 rounded-lg p-5">
                <h3 class="text-lg font-bold text-blue-400 mb-3">üì± –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å —Å–≤–æ–π Chat ID?</h3>
                <ol class="space-y-3 text-sm text-gray-300">
                    <li class="flex items-start">
                        <span class="inline-flex items-center justify-center w-6 h-6 rounded-full bg-blue-600 text-white text-xs font-bold mr-3 flex-shrink-0">1</span>
                        <span>–û—Ç–∫—Ä–æ–π—Ç–µ Telegram –∏ –Ω–∞–π–¥–∏—Ç–µ –±–æ—Ç–∞ <a href="https://t.me/userinfobot" target="_blank" class="text-[#D4AF37] hover:underline font-semibold">@userinfobot</a></span>
                    </li>
                    <li class="flex items-start">
                        <span class="inline-flex items-center justify-center w-6 h-6 rounded-full bg-blue-600 text-white text-xs font-bold mr-3 flex-shrink-0">2</span>
                        <span>–ù–∞–∂–º–∏—Ç–µ <code class="bg-gray-800 px-2 py-1 rounded text-[#D4AF37]">/start</code> –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ</span>
                    </li>
                    <li class="flex items-start">
                        <span class="inline-flex items-center justify-center w-6 h-6 rounded-full bg-blue-600 text-white text-xs font-bold mr-3 flex-shrink-0">3</span>
                        <span>–ë–æ—Ç –ø—Ä–∏—à–ª—ë—Ç –≤–∞—à <strong>Chat ID</strong> (—ç—Ç–æ —á–∏—Å–ª–æ, –Ω–∞–ø—Ä–∏–º–µ—Ä: 123456789)</span>
                    </li>
                    <li class="flex items-start">
                        <span class="inline-flex items-center justify-center w-6 h-6 rounded-full bg-blue-600 text-white text-xs font-bold mr-3 flex-shrink-0">4</span>
                        <span>–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —ç—Ç–æ—Ç ID –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –≤ –ø–æ–ª–µ –≤—ã—à–µ</span>
                    </li>
                    <li class="flex items-start">
                        <span class="inline-flex items-center justify-center w-6 h-6 rounded-full bg-blue-600 text-white text-xs font-bold mr-3 flex-shrink-0">5</span>
                        <span>–ù–∞–π–¥–∏—Ç–µ –Ω–∞—à–µ–≥–æ –±–æ—Ç–∞ –≤ Telegram –∏ –Ω–∞–∂–º–∏—Ç–µ <code class="bg-gray-800 px-2 py-1 rounded text-[#D4AF37]">/start</code> —á—Ç–æ–±—ã –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</span>
                    </li>
                </ol>
                
                <div class="mt-4 pt-4 border-t border-blue-700/30">
                    <a href="https://t.me/userinfobot" target="_blank" class="inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-semibold">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm5.562 8.161l-1.84 8.679c-.137.65-.504.812-1.019.506l-2.821-2.079-1.362 1.311c-.151.151-.277.277-.569.277l.203-2.888 5.259-4.75c.228-.203-.05-.316-.354-.114l-6.504 4.098-2.802-.876c-.609-.19-.621-.609.128-.902l10.946-4.22c.508-.19.953.114.787.902z"/>
                        </svg>
                        –û—Ç–∫—Ä—ã—Ç—å @userinfobot
                    </a>
                </div>
            </div>
            
            <div class="flex gap-3">
                <button type="submit" class="flex-1 px-6 py-3 bg-[#D4AF37] text-black font-bold rounded-lg hover:bg-[#C5A028] transition">
                    üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
                </button>
                <a href="{% url 'my_pigeons' %}" class="flex-1 text-center px-6 py-3 border-2 border-gray-700 text-gray-300 font-semibold rounded-lg hover:border-gray-600 transition">
                    –û—Ç–º–µ–Ω–∞
                </a>
            </div>
        </form>
    </div>
    
    <!-- Current Status Card -->
    <div class="bg-[#1E1E1E] rounded-lg p-6 border border-gray-800">
        <h3 class="text-xl font-bold text-gray-300 mb-4">üìä –°—Ç–∞—Ç—É—Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</h3>
        
        {% if profile.telegram_chat_id %}
        <div class="flex items-center p-4 bg-green-900/20 border border-green-700/50 rounded-lg">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-green-500 mr-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
            <div>
                <p class="text-green-400 font-semibold">‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤–∫–ª—é—á–µ–Ω—ã</p>
                <p class="text-sm text-gray-400 mt-1">Chat ID: <code class="text-green-400">{{ profile.telegram_chat_id }}</code></p>
            </div>
        </div>
        {% else %}
        <div class="flex items-center p-4 bg-yellow-900/20 border border-yellow-700/50 rounded-lg">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-yellow-500 mr-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
            </svg>
            <div>
                <p class="text-yellow-400 font-semibold">‚ö†Ô∏è –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤—ã–∫–ª—é—á–µ–Ω—ã</p>
                <p class="text-sm text-gray-400 mt-1">–î–æ–±–∞–≤—å—Ç–µ Telegram Chat ID –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</p>
            </div>
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}
